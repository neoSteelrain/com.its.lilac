<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="License">
    <select id="licenseCodeList" resultType="licenseCategory">
        select license_code, license_name
        from tbl_license;
    </select>

    <select id="licenseListByKeyword" parameterType="String" resultType="licenseInfo">
        select license_code, license_name, license_schedule_json
        from tbl_license
        where license_name like concat('%', #{keyword}, '%');
    </select>

    <select id="licenseInfoByCode" parameterType="int" resultType="licenseInfo">
        select license_code, license_name, license_schedule_json
        from tbl_license
        where license_code = #{licenseCode}
    </select>

    <update id="updateLicenseJson" parameterType="java.util.Map">
        update tbl_license
        set license_schedule_json = #{jsonString}
        where license_code = #{lic_code};
    </update>
</mapper>